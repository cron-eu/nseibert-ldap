<f:layout name="Backend"/>

<f:section name="content">

	<h1><f:translate key="headline.summary" /></h1>
	
	<f:flashMessages renderMode="div" />
	
	<table style="width:100%;" class="typo3-dblist">
		<tr class="t3-row-header">
			<td rowspan="2"><f:translate key="header.uid" /></td>
			<td rowspan="2"><f:translate key="header.hostPort" /></td>
			<td colspan="3">FE</td>
			<td colspan="3">BE</td>
		</tr>
		<tr class="t3-row-header">
			<td><f:translate key="header.baseDn" /></td>
			<td><f:translate key="header.filter" /></td>
			<td><f:translate key="header.users" /></td>
			<td><f:translate key="header.baseDn" /></td>
			<td><f:translate key="header.filter" /></td>
			<td><f:translate key="header.users" /></td>
		</tr>
		<f:for each="{ldapServers}" as="serverRecord">
			<tr class="db_list_normal">
				<td>{serverRecord.server.configuration.uid} ({serverRecord.server.configuration.title})</td>
				<td>{serverRecord.server.configuration.host}:{serverRecord.server.configuration.port}</td>
				<td>{serverRecord.server.configuration.feUserRules.baseDN}</td>
				<td>{serverRecord.server.configuration.feUserRules.filter}</td>
				<td>
					<f:for each="{serverRecord.feUsers}" as="user">
						<p>
							<b>{user.dn}</b>
							<ul>
								<f:for each="{user.attributes}" as="value" key="attribute">
									<li>{attribute}: {value}</li>
								</f:for>
							</ul>
						</p>
					</f:for>
				</td>
				<td>{serverRecord.server.configuration.beUserRules.baseDN}</td>
				<td>{serverRecord.server.configuration.beUserRules.filter}</td>
				<td>
					<f:for each="{serverRecord.beUsers}" as="user">
						<p>
							<b>{user.dn}</b>
							<ul>
								<f:for each="{user.attributes}" as="value" key="attribute">
									<li>{attribute}: {value}</li>
								</f:for>
							</ul>
						</p>
					</f:for>
				</td>
			</tr>
		</f:for>
	</table>
	
</f:section>